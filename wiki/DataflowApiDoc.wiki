#summary dataflow API Reference
#sidebar ApiDocSidebar

<wiki:comment>
This document was auto-generated from the clojure.contrib source by contrib-autodoc.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
</wiki:comment>
=API for dataflow=
Usage: 
{{{
(ns <your-namespace>
  (:use clojure.contrib.dataflow))
}}}


==Public Variables and Functions==
Shortcuts:
[#(_add-cell-watcher_cell_key_fun) add-cell-watcher] [#(_add-cells_df_cells) add-cells] [#(_build-dataflow_cs) build-dataflow] [#(_build-source-cell_name_init) build-source-cell] [#(_build-standard-cell_name_deps_fun_expr) build-standard-cell] [#(_build-validator-cell_deps_fun_expr) build-validator-cell] [#(_cell_type_&_data) cell] [#display-cell display-cell] [#eval-cell eval-cell] [#(_get-cell_df_name) get-cell] [#(_get-cells_df_name) get-cells] [#(_get-old-value_df_env_name) get-old-value] [#(_get-source-cells_df) get-source-cells] [#(_get-value_df_name) get-value] [#(_get-value-from-cell_cell) get-value-from-cell] [#(_get-values_df_name) get-values] [#(_print-dataflow_df) print-dataflow] [#(_remove-cells_df_cells) remove-cells] [#(_source-cell?_cell) source-cell?] [#(_update-values_df_data) update-values] 

----
===(`_`add-cell-watcher`_` cell key fun)===
<pre> Adds a watcher to a cell to respond to changes of value.  The is a
function of 4 values: a key, the cell, its old value, its new
value.  This is implemented using Clojure's add-watch to the
underlying ref, and shared its sematics</pre>
----
===(`_`add-cells`_` df cells)===
<pre> Given a collection of cells, add them to the dataflow.</pre>
----
===(`_`build-dataflow`_` cs)===
<pre> Given a collection of cells, build and return a dataflow object</pre>
----
===(`_`build-source-cell`_` name init)===
<pre> Builds a source cell</pre>
----
===(`_`build-standard-cell`_` name deps fun expr)===
<pre> Builds a standard cell</pre>
----
===(`_`build-validator-cell`_` deps fun expr)===
<pre> Builds a validator cell</pre>
----
===(`_`cell`_` type & data)===
====Macro====
<pre> Build a standard cell, like this:

  (cell fred
    (`*` ?mary ?joe))

 Which creates a cell named fred that is the product of a cell mary and cell joe

 Or:

  (cell joe
   (apply `*` ?`*`sally))

 Which creates a cell that applies `*` to the collection of all cells named sally

 Or:

  (cell :source fred 0)

 Which builds a source cell fred with initial value 0

 Or:

   (cell :validator (when (< ?fred ?sally)
                       (throwf "%s must be greater than %s" ?fred ?sally))

 Which will perform the validation</pre>
----
===`_`display-cell`_`===
<pre> A 'readable' form of the cell</pre>
----
===`_`eval-cell`_`===
<pre> Evaluate a dataflow cell.  Return `[`changed, old val`]`</pre>
----
===(`_`get-cell`_` df name)===
<pre> Get the single cell named by name</pre>
----
===(`_`get-cells`_` df name)===
<pre> Get all the cells named by name</pre>
----
===(`_`get-old-value`_` df env name)===
<pre> Looks up an old value</pre>
----
===(`_`get-source-cells`_` df)===
<pre> Returns a collection of source cells from the dataflow</pre>
----
===(`_`get-value`_` df name)===
<pre> Gets a value from the df matching the passed symbol.
Signals an error if the name is not present, or if it not a single
value.</pre>
----
===(`_`get-value-from-cell`_` cell)===
<pre> Given a cell, get its value</pre>
----
===(`_`get-values`_` df name)===
<pre> Gets a collection of values from the df by name</pre>
----
===(`_`print-dataflow`_` df)===
<pre> Prints a dataflow, one cell per line</pre>
----
===(`_`remove-cells`_` df cells)===
<pre> Given a collection of cells, remove them from the dataflow.</pre>
----
===(`_`source-cell?`_` cell)===
<pre> Is this cell a source cell?</pre>
----
===(`_`update-values`_` df data)===
<pre> Given a dataflow, and a map of name-value pairs, update the
dataflow by binding the new values.  Each name must be of a source
cell</pre>
